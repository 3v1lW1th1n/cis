---
copyright:
  years: 2018
lastupdated: "2018-03-13"
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 최적의 보안을 위한 IBM CIS 관리

IBM CIS(Cloud Internet Services) 보안 설정에는 트래픽의 부정적 영향과 거짓 긍정(false positive)을 피하기 위해 설계된 안전한 기본값이 포함되어 있습니다. 그러나 이러한 안전한 기본 설정은 모든 고객에 대한 최상의 보안 관점을 제공하지 않습니다. CIS 계정이 안전한 보안 방식으로 구성되어 있음을 보장하려면 다음 단계를 취하십시오. 

**권장사항 및 우수 사례:**

* 프록싱 및 난독화 증가로 오리진 IP 주소 보호
* 선별적으로 보안 레벨 구성
* 안전하게 WAF(Web Application Firewall) 활성화

## 우수 사례: 오리진 IP 주소 보호

IBM CIS에 특정한 IP 주소로 당사가 적극적으로 응답하므로 하위 도메인이 IBM CIS를 사용하여 포록싱된 경우에는 모든 트래픽이 보호됩니다(예: 모든 클라이언트가 우선 CIS 프록시에 연결되고 오리진 IP 주소가 난독화됨). 

### 오리진의 HTTP(S) 트래픽에 대한 모든 DNS 레코드의 IBM CIS 프록시 사용

오리진 IP 주소의 보안을 개선하려면 모든 HTTP(S) 트래픽이 프록싱되어야 합니다. 

**직접 차이점 확인 - 비-프록싱 및 프록싱 레코드 조회:**

```
$ dig greycloud.theburritobot.com +short
1.2.3.4 (The origin IP address)

$ dig orangecloud.theburritobot.com +short
104.16.22.6 , 104.16.23.6 (CIS IP addresses)
```

### 비표준 이름으로 비-프록싱 오리진 레코드 난독화
IBM CIS를 통해 프록싱될 수 없으며 여전히 오리진 IP(예: FTP)를 사용하는 레코드는 추가적인 난독화를 통해 보호될 수 있습니다. 특히 IBM CIS에 의해 프록싱될 수 없는 오리진의 레코드가 필요한 경우에는 비표준 이름을 사용하십시오. 예를 들어, `ftp.example.com` 대신에 `[random word or-random characters].example.com`을 사용하십시오. 이 난독화는 DNS 레코드의 사전 스캔이 오리진 IP 주소를 덜 노출시킬 수 있도록 합니다. 

### 가급적 HTTP 및 비-HTTP 트래픽에 대해 별도의 IP 범위 사용
일부 고객은 HTTP 및 비-HTTP 트래픽에 대해 별도의 IP 범위를 사용함으로써 HTTP IP 범위를 지시하는 모든 레코드를 프록싱하고 다른 IP 서브넷으로 모든 비-HTTP 트래픽을 난독화할 수 있습니다. 

## 우수 사례 2: 선별적으로 보안 레벨 구성
**보안 레벨**이 **IP 평판 데이터베이스**의 민감도를 설정합니다. IBM CIS는 700만개가 넘는 웹 사이트에서 매월 10억 개가 넘는 고유 IP 주소를 봅니다. 이에 따라 시스템은 악의적인 행위자를 식별하고 이들이 웹 자산에 접근하지 못하도록 방지합니다. 부정적 상호작용이나 거짓 긍정(false positive)을 방지하려면, 필요에 따라 보안성 강화를 위해 도메인별로 **보안 레벨**을 구성하고 해당되는 경우 이를 줄이십시오. 

### 민간함 영역의 보안 레벨을 '높음'으로 올리기
무차별 대입공격을 줄이기 위해 관리 페이지 또는 로그인 페이지에 대해 **페이지 규칙**을 추가하여 이 설정을 올릴 수 있습니다. 

1. API의 URL 패턴으로 **페이지 규칙**을 작성하십시오(예: `www.example.com/wp-login`). 
2. **보안 레벨** 설정을 식별하십시오. 
3. 설정을 **높음**으로 표시하십시오. 
4. **리소스 프로비저닝**을 선택하십시오. 

### 거짓 긍정(false positive)을 줄이기 위해 민감하지 않은 경로 또는 API에 대해 보안 레벨 낮추기
일반 페이지와 API 트래픽의 경우에 이 설정을 낮출 수 있습니다.  

1. API의 URL 패턴으로 **페이지 규칙**을 작성하십시오(예: `www.example.com/api/*`).
2. **보안 레벨** 설정을 식별하십시오. 
3. 보안 레벨을 **낮음** 또는 **기본적으로 끄기**로 전환하십시오. 
4. **리소스 프로비저닝**을 선택하십시오. 

### 보안 레벨 설정의 의미
보안 레벨 설정은 네트워크에서 악의적 행위로부터 특정 IP 주소가 확보하는 위협 점수와 일치합니다. 위협 점수가 10을 초과하면 높다고 간주됩니다. 

* **높음**: 0보다 큰 위협 점수가 인증 확인됩니다. 
* **중간**: 14보다 큰 위협 점수가 인증 확인됩니다. 
* **낮음**: 24보다 큰 위협 점수가 인증 확인됩니다. 
* **기본적으로 끄기**: 49보다 큰 위협 점수가 인증 확인됩니다. 

보안 레벨 설정을 주기적으로 검토하도록 권장합니다. 해당 지시사항은 [CIS 설정의 우수 사례 문서](best-practices.html)를 참조하십시오. 

## 우수 사례 3: 안전하게 WAF(Web Application Firewall) 활성화
WAF는 **보안** 섹션에서 사용 가능합니다. 전체 도메인에 대해 켜기 전에 WAF가 가급적 안전하게 구성되어 있음을 보장하기 위해 이러한 설정을 역순으로 안내하겠습니다. 이러한 초기 설정은 향후 튜닝을 위해 WAF 이벤트로 트래픽 애플리케이션을 채움으로써 거짓 긍정(false positive)을 줄일 수 있습니다. 식별 시에 새로운 취약점을 처리할 수 있도록 WAF은 자동으로 업데이트됩니다. 

WAF는 다음 유형의 공격으로부터 사용자를 보호합니다. 
* SQL 인젝션 공격
* XSS(Cross-site scripting)
* 사이트 간 위조

WAF에는 가장 일반적인 공격을 중지하기 위한 규칙이 포함된 기본 규칙 세트가 포함되어 있습니다. 이 시점에서 WAF를 사용하거나 사용 안할 수 있습니다. 기본 규칙 세트와 각 규칙의 작동에 대한 상세 정보는 [WAF 기본 규칙 세트](waf-rule-set.html) 문서를 참조하십시오. 

WAF에 대한 자세한 정보는 [WAF 개념 문서](waf-concept.html)를 참조하십시오. 

## 우수 사례 4: TLS 설정 구성
IBM CIS는 트래픽을 암호화하기 위한 일부 옵션을 제공합니다. 리버스 프록시로서, 당사는 데이터 센터에서 TLS 연결을 닫고 오리진 서버에 대한 새 TLS 연결을 엽니다. 

TLS에서는 네 개의 오퍼레이션 모드를 제공합니다. 
* **끄기**: TLS가 이 모드에서 사용되지 않습니다. 권장하지 않습니다. 
* **클라이언트 대 에지**: TLS이 CIS에서 클라이언트로의 트래픽을 암호화하지만, CIS에서 오리진 서버로의 트래픽은 암호화하지 않습니다. 
* **엔드-투-엔드 유연성**: TLS이 모든 트래픽을 암호화하지만, 사용자는 자체 서명된 인증서를 사용하여 CIS와 오리진 서버 간의 트래픽을 보호할 수 있습니다. 
* **엔드-투-엔드 CA 서명**: TLS이 모든 트래픽을 암호화하며, 사용자는 CA 서명된 인증서를 사용해야 합니다. 

TLS 옵션에 대한 자세한 정보는 [이 문서](ssl-options.html)를 참조하십시오. 

IBM CIS에서는 사용자 정의 인증서의 사용을 허용합니다. 또는 사용자가 CIS에서 제공하는 와일드카드 인증서를 사용할 수 있습니다. 

### 사용자 정의 인증서 업로드
**인증서 추가** 단추를 클릭하고 인증서, 개인 키 및 번들 메소드를 입력하여 사용자 정의 인증서를 업로드할 수 있습니다. 자체 인증서를 업로드하면 암호화된 트래픽과의 즉각적인 호환성이 확보되며 인증서(예: EV(Extended Validation) 인증서)에 대한 제어가 유지됩니다. 사용자 정의 인증서를 업로드하는 경우에는 사용자 자신이 인증서 관리를 책임진다는 점을 유념하십시오. 예를 들어, IBM CIS는 인증서 만기 날짜를 추적하지 않습니다.  

![사용자 정의 인증서](images/upload-custom-certificate.png)

### 제공된 인증서 활용
IBM은 여러 인증 기관(CA)과 협력하여 고객에 대해 도메인 와일드카드 인증서를 제공합니다. 이러한 인증서를 설정하기 위해 수동 확인이 필요할 수 있습니다. 지원 팀에서 이러한 추가 단계를 수행하는 데 도움을 줄 수 있습니다. 
