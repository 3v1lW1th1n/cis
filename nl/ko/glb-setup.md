---

copyright:
  years: 2018, 2019
lastupdated: "2019-03-14"

keywords: health checks, origin pools, load balancers, IBM CIS

subcollection: cis

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:DomainName: data-hd-keyref="DomainName"}
{:note: .note}
{:important: .important}
{:deprecated: .deprecated}
{:generic: data-hd-programlang="generic"}


# 로드 밸런서 설정 및 구성
{:#set-up-and-configure-your-load-balancers}
 
 IBM CIS는 글로벌 로드 밸런싱을 서비스로 제공합니다. GLB 대시보드의 모양은 다음과 같습니다.

![이미지](images/glb-screen.png)

## GLB 대시보드
{:#glb-dashboard}

대시보드에는 로드 밸런서, 오리진 풀 및 상태 검사를 표시하는 세 개의 목록이 표시됩니다. 이 목록은 프로비저닝하거나 업데이트한 후에 신규 또는 업데이트된 글로벌 로드 밸런서나 해당 컴포넌트 중 하나를 표시합니다. 처음에 목록은 비어 있으며 로드 밸런서를 작성하기 전에 일부 조치를 취해야 합니다.

이미 수행해야 하는 작업을 알고 있는 경우 [빠른 시작 안내서](/docs/infrastructure/cis?topic=cis-global-load-balancer-quick-setup)를 참조하십시오.

### 작성
{:#create-health-check}

<sup>`*`</sup>는 이 단계가 선택사항임을 표시합니다.
{:note}

1) <sup>`*`</sup>상태 검사를 작성합니다. **상태 검사 작성**을 클릭합니다.
  ![이미지](images/glb-health-check-list.png)
    <ul>
      <li><b>경로</b>: 상태 검사에 대한 엔드포인트 경로입니다.</li> 
      <li><b>유형</b>: 상태 검사에 사용할 프로토콜입니다.</li>
      <li><b>설명</b>: 사용자가 제공한 설명입니다.</li>
    </ul>

2) 풀을 작성합니다. **풀 작성**을 클릭합니다.
  ![이미지](images/glb-pool-list.png)
    <ul>
      <li><b>상태</b>: 풀의 상태입니다.</li>
      <li><b>이름</b>: 사용자가 제공한 이름입니다.</li>
      <li><b>오리진</b>: 풀에서 정상 상태인 오리진의 개수입니다.</li>
      <li><b>상태 검사</b>: 연결된 상태 검사의 경로입니다(있는 경우).</li>
    </ul>

3) 로드 밸런서를 작성합니다. **로드 밸런서 작성**을 클릭합니다.
  ![이미지](images/glb-load-balancer-list.png)
    <ul>
      <li><b>상태</b>: 로드 밸런서의 상태입니다.</li>
      <li><b>호스트 이름</b>: 도메인 이름 앞에 붙는 이름입니다.</li>
      <li><b>사용 가능한 풀</b>: 정상 상태인 풀의 개수입니다.</li>
      <li><b>TTL</b>: TTL(Time To Live)입니다.</li>
      <li><b>프록시</b>: 프록시 트래픽 플로우를 사용하거나 사용하지 않습니다.</li>
      <li><b>상태</b>: 로드 밸런서를 사용하거나 사용하지 않습니다.</li>
    </ul>

IBM의 지리적 지역은 Cloudflare의 지역과 다릅니다. Cloudflare에서 사용하는 지리적 지역에 대한 세부사항은 [로드 밸런싱: 지리적 지역 ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://support.cloudflare.com/hc/en-us/articles/115000540888-Load-Balancing-Geographic-Regions){:new_window}을 참조하십시오.  
{:note}

### 편집/삭제
{:#edit-delete-load-balancer}
로드 밸런서나 해당 컴포넌트 중 하나를 편집하거나 삭제하려면 각 행의 맨 오른쪽에 있는 오버플로우 메뉴 단추를 클릭하십시오.

오버플로우 메뉴 단추:

![이미지](images/overflow.png)

다음 옵션이 각 목록에 대해 제공됩니다.

* 상태 검사
    * **상태 검사 보기**: 이 옵션은 상태 검사의 간단한 요약을 표시하며, 여기에 포함된 링크를 누르면 편집 플로우로 이동하게 됩니다.
    * **상태 검사 편집**: 이 옵션은 사용자를 편집 플로우로 경로 재지정합니다. 
    * **상태 검사 삭제**: 이 옵션은 삭제 플로우에 대한 확인 대화 상자를 가져옵니다.

* 풀
    * **풀 세부사항 보기**: 이 옵션은 풀에 대한 정보와 함께 모달 대화 상자를 가져옵니다.
    * **풀 편집**: 이 옵션은 사용자를 편집 플로우로 경로 재지정합니다.
    * **풀 삭제**: 이 옵션은 삭제 플로우에 대한 확인 대화 상자를 가져옵니다.

* 로드 밸런서
    * **사용 안함/사용**: 로드 밸런서를 사용하거나 사용하지 않습니다.
    * **로드 밸런서 편집**: 편집 플로우로 경로 재지정합니다. 
    * **로드 밸런서 삭제**: 삭제 플로우에 대한 확인 대화 상자를 가져옵니다.

## 상태 검사 추가
{:#add-a-health-check}

상태 검사는 오리진 풀에 대한 선택적 첨부 파일입니다. 이는 특정 응답 본문 또는 상태 코드를 프로브하는 사용자 정의 반복 간격을 사용하여 풀의 상태를 모니터링합니다. 일단 작성되면 상태 검사가 신규 또는 기존 오리진 풀에 추가될 수 있습니다.

상태 검사를 작성할 때는 하나의 필드만 필요합니다.
 * **응답 코드**: 상태 검사의 예상 HTTP 응답 코드 또는 코드 범위입니다. 이 값은 'x'로 표시된 와일드카드와 함께 200-299 범위에 있어야 합니다.

추가적인 선택적 필드:
 * **경로**: 상태 검사를 수행할 엔드포인트 경로입니다(기본값: /).
 * **유형**: 상태 검사에 사용할 프로토콜입니다(기본값: HTTP).
 * **설명**: 상태 검사 설명입니다.
 * **간격**: 각 상태 검사 간의 간격(초)입니다. 간격이 짧을수록 장애 복구 시간이 개선될 수 있지만, 여러 위치에서 확인을 가져오기 때문에 오리진의 로드가 증가될 수 있습니다(기본값: 60).
 * **메소드**: 상태 검사에 사용할 HTTP 메소드입니다(기본값: GET).
 * **제한시간**: 상태 검사가 실패로 표시되기 전의 시간(초)입니다(기본값: 5).
 * **재시도**: 오리진의 상태가 불량으로 표시되기 전에 제한시간 초과 시의 재시도 횟수입니다. 재시도는 즉각적으로 이루어집니다(기본값: 2).
 * **응답 본문**: 응답 본문에서 일치시킬 대소문자를 구분하는 하위 문자열입니다. 이 문자열을 찾을 수 없으면 오리진이 비정상 상태로서 표시됩니다.
 * **요청 헤더**: 상태 검사에서 전송할 HTTP 요청 헤더입니다. 기본적으로 호스트 헤더를 설정하도록 권장합니다. `User-Agent` 헤더는 대체가 불가능합니다.

## 풀 추가
{:#add-a-pool}

프로비저닝된 각각의 로드 밸런서마다 최소한 하나의 풀이 필요합니다. 풀은 사용할 로드 밸런서의 오리진을 그룹화합니다.

풀을 작성할 때는 두 개의 필드가 필요합니다.
 * **이름**: 풀의 단축 이름(태그)입니다. 영숫자 문자, 하이픈 및 밑줄만 허용됩니다.
 * **오리진**: 이 풀 내의 오리진의 목록입니다. 풀 자체가 정상 상태인 경우, 이 풀에서 경로 지정된 트래픽은 현재 정상 상태인 모든 오리진 간에 균형을 유지합니다.

추가적인 선택적 필드:
 * **설명**: 사람이 읽을 수 있는 풀의 설명입니다.
 * **사용됨**: 이 풀을 사용(기본값)하는지 여부입니다. 사용 안하는 풀은 트래픽을 수신하지 않으며 상태 검사에서 제외됩니다. 풀을 사용하지 않으면 이를 사용하는 로드 밸런서가 다음 풀로 장애 복구됩니다(있는 경우)(기본값: true).
 * **정상 상태인 오리진 임계값**: 이 풀이 트래픽을 서비스하기 위해 정상 상태여야 하는 오리진의 최소 수입니다. 정상 상태인 오리진의 수가 이 숫자 아래로 떨어지면 풀이 비정상 상태로 표시되며 다음의 사용 가능한 풀로 장애 복구됩니다. (기본값 1)
 * **상태 검사 지역**: 상태 검사가 모니터링을 수행하는 지역입니다. **참고**: IBM의 지리적 지역은 Cloudflare의 지역과 다릅니다. Cloudflare에서 사용하는 지리적 지역에 대한 세부사항은 [로드 밸런싱: 지리적 지역 ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://support.cloudflare.com/hc/en-us/articles/115000540888-Load-Balancing-Geographic-Regions){:new_window}을 참조하십시오. 
 * **상태 검사**: 이 풀 내의 오리진을 확인하는 데 사용할 상태 검사입니다. (기본값: 상태 검사 안함)
 * **알림 이메일**: 상태 확인 알림을 수신해야 하는 이메일 주소입니다. 이 주소는 개별 메일함 또는 메일 목록일 수 있습니다.

## 로드 밸런서 추가
{:#add-a-load-balancer}

로드 밸런서는 라운드 로빈 배포를 사용하여 여러 오리진 풀 간에 프록싱 트래픽을 분배하는 데 도움이 됩니다.

로드 밸런서를 작성할 때 필수 필드는 다음과 같습니다.
 * **이름**: 로드 밸런서와 연관되는 DNS 호스트 이름입니다. 이 호스트 이름이 IBM의 DNS에서 DNS 레코드로서 이미 존재하면 로드 밸런서가 우선하며 DNS 레코드가 사용되지 않습니다.
 * **기본 풀**: 풀 ID의 목록입니다. 이 목록은 해당 장애 복구 우선순위에 따라 순서가 지정됩니다. 여기서 정의된 풀은 기본적으로 또는 제공된 지역에 대해 지역 풀이 구성되지 않을 때 사용됩니다.

선택사항으로, 다음 필드를 구성할 수 있습니다.
 * **프록시**: IBM의 성능 및 메트릭 서비스를 통해 트래픽을 라우팅합니다.
 * **세션 선호도**: 항상 동일한 성능 및 메트릭 인스턴스를 통해 라우팅합니다. 이 옵션은 프록시가 사용되는 경우에만 사용 가능합니다.
 * **TTL**: 이 로드 밸런서가 리턴한 IP 주소에 대한 DNS 항목의 TTL(Time to live)입니다. 이 옵션은 프록싱되지 않은 로드 밸런서에만 적용됩니다. 그렇지 않으면, 기본값은 `Automatic`입니다.
 * **지역 풀**: 지역 또는 국가 코드를 제공된 지역의 풀 목록(해당 장애 복구 우선순위에 의해 순서 지정됨)에 맵핑합니다. 명시적으로 정의되지 않은 지역은 기본 풀을 사용하여 장애 복구됩니다. **참고**: IBM의 지리적 지역은 Cloudflare의 지역과 다릅니다. Cloudflare에서 사용하는 지리적 지역에 대한 세부사항은 [로드 밸런싱: 지리적 지역 ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](https://support.cloudflare.com/hc/en-us/articles/115000540888-Load-Balancing-Geographic-Regions){:new_window}을 참조하십시오. 
 
일반적으로 산업 전반에서 사용되는 공통 용어이며 이 문서에 사용되는 용어에 대한 정의는 [용어집](/docs/infrastructure/cis?topic=cis-glossary)을 참조하십시오.
