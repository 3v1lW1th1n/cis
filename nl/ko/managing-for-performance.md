---
  
copyright:
   years: 2018
lastupdated: "2018-03-16"
 
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}


# 최상의 성능을 위한 CIS 배치 관리

이미지를 최적화하고 가급적 일반 사용자와 가장 가까운 위치에 웹 컨텐츠를 저장하므로 IBM CIS(Cloud Internet Services)는 고객에 대한 가장 빠른 경험을 제공합니다. 컨텐츠는 프록싱 에지 서버에서 로드됩니다(이는 대기 시간을 줄여줌). 

IBM CIS에서는 웹 컨텐츠의 로드 속도를 높이는 우수 사례를 사용하여 사이트의 성능을 추가로 개선할 수 있습니다. 여기에는 CIS 내에서 웹 컨텐츠의 성능을 개선하기 위한 일부 특정 우수 사례가 있습니다. 

**권장 및 우수 사례:**

 * 가급적 많은 정적 및 반-정적 웹 컨텐츠 캐시
 * 이벤트 구동 컨텐츠의 경우 API를 사용하여 캐시 영구 제거
 
## 우수 사례 1: 가급적 많은 정적 및 반-정적 컨텐츠 캐시

  * 정적 HTML 웹 페이지에 대해 **모두 캐시** 사용
  * 가끔 변경되는 컨텐츠에 대해 보수적 **TTL(Time to Live)** 사용

### 가끔 변경되는 컨텐츠에 대해 보수적 TTL(Time-to-Lives) 활용
컨텐츠가 거의 변경되지 않는 경우에는 가급적 많은 캐시를 활용하도록 보수적 TTL을 설정할 수 있습니다. 재인증 요청의 백분율이 높은 경우, 고객에 부정적 영향을 주지 않고 컨텐츠의 TTL을 늘릴 수 있습니다. 보다 효과적으로 캐시를 사용하면 재인증 횟수가 감소하므로 성능을 증가시킬 수 있습니다. 

### 항목이 캐시되는 경우 어떻게 알 수 있습니까? 
IBM CIS는 오브젝트 캐시를 시도할 때 응답 헤더 `CF-Cache-Status`를 추가합니다. 캐싱에 성공하면 이 헤더의 값이 다음 키워드 중 하나로 해당 상태를 표시합니다. 

* **MISS:** 자산이 아직 캐시에 없거나 TTL이 만료되었습니다(즉, 캐시 제어 최대 수명 0에 도달함). 
* **HIT:** 자산이 캐시에서 전달되었습니다. 
* **EXPIRED:** 이 자산이 캐시에서 전달되었지만 다음 요청에서 재인증이 필요합니다. 
* **REVALIDATED:** 자산이 캐시에서 전달되었습니다. TTL이 만료되었지만 오리진에 대한 `If-Modified-Since` 요청에서 자산이 변경되지 않았음을 표시했습니다. 따라서 캐시의 버전이 다시 유효하다고 간주됩니다. 

## 우수 사례 2: 이벤트 구동 컨텐츠의 경우 API를 사용하여 캐시 영구 제거
예를 들어, 새 게시가 블로그에 추가될 때마다 API 명령을 사용하여 CIS 캐시를 손쉽게 영구 제거할 수 있습니다. 이벤트 구동 컨텐츠 보기가 일반적이며, 시간이 경과된(stale) 컨텐츠가 사용자에게 도달하도록 보장하기가 쉬워집니다. 전체 글로벌 네트워크에서 즉각적으로 캐시를 영구 제거하는 명령은 다음에 나열되어 있습니다. 캐싱 애플리케이션을 사용하거나 API를 사용할 수 있습니다. 

  * Cache-Tag를 사용하여 캐시 영구 제거
  * 글로벌하게 캐시 영구 제거
  * 페이지 규칙으로 캐시 영구 제거
  * 고급 캐싱 기능 사용

### Cache-Tag를 사용하여 캐시 영구 제거
Cache-Tag를 사용하면 영구 제거할 컨텐츠의 버킷을 정의할 수 있습니다. 이는 공통적으로 변경된 오브젝트를 결합하는 탁월한 방법입니다. 따라서 예를 들어 HTML 블로그 게시 및 모든 해당 이미지 컨텐츠는 함께 태그 지정될 수 있습니다. 모바일 전용 컨텐츠 역시 cache-tag를 사용하여 번들링될 수 있으므로 새 업데이트를 모바일 도메인에 푸시할 때 모든 항목을 영구 제거할 수 있습니다. 

### 글로벌하게 캐시 영구 제거
또한 전체 캐시의 재검증을 강제 실행하는 옵션도 있습니다. 모든 요청이 오리진 서버로 라우팅되도록 캐시에 저장된 모든 오브젝트를 재설정할 수 있습니다. 

### 페이지 규칙으로 캐시 영구 제거
페이지 규칙을 사용하면 정규식을 기반으로 전체 캐시를 영구 제거할 수 있습니다. 사전 정의된 페이지 규칙을 활용하고 해당 페이지 규칙에 대한 모든 히트를 재검증할 수 있습니다. 페이지당 최대 50개의 페이지 규칙을 작성할 수 있습니다. 

### 고급 캐싱 기능 사용

**쿠키의 캐시 무시:** 페이지 규칙에서 구성된 이 기능을 사용하면 특정 이름의 쿠키가 존재하지 않는 한 캐시된 오브젝트를 서비스할 수 있도록 허용됩니다. 예를 들어, 고객이 로그인되어 있으므로 개인화된 컨텐츠의 제시가 필요함을 표시하는 `SessionID` 쿠키를 찾지 않은 한 홈 페이지의 캐시된 버전을 서비스할 수 있습니다. 
