---
  
copyright:
   years: 2018
lastupdated: "2018-03-16"
 
---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}


# 管理 CIS 部署以获取最佳性能

IBM Cloud Internet Services (CIS) 可为客户提供最快的体验，因为其可优化您的映像并在最接近最终用户的位置存储您的 Web 内容。从通过代理传递的边缘服务器装入您的内容（这可降低延迟）。

通过 IBM CIS，您可以使用最佳实践来加快 Web 内容的装入速度，从而进一步提高站点的性能。以下是在 CIS 中提高 Web 内容性能的一些特定最佳实践。

**建议和最佳实践：**

 * 尽可能多地高速缓存静态和半静态 Web 内容
 * 对于事件驱动的内容，使用 API 清除高速缓存
 
## 最佳实践 1：尽可能多地高速缓存静态和半静态内容

  * 针对静态 HTML Web 页面启用**全部高速缓存**
  * 对于偶尔更改的内容，使用保守**生存时间 (TTL)**

### 对于偶尔更改的内容，利用保守 TTL（生存时间）
如果内容很少发生更改，那么您可以设置保守 TTL 从而尽可能多地利用高速缓存。如果重新验证请求百分比较高，那么可增加内容的 TTL，而不会对客户造成负面影响。通过更有效地使用高速缓存，可提高性能，因为会降低重新验证频率。

### 如何分辨项目是否在高速缓存中？
IBM CIS 在尝试高速缓存对象时会添加响应头 `CF-Cache-Status`。如果高速缓存成功，那么此头的值将使用以下一个关键字来指示其状态：

* **MISS：**资产尚未在高速缓存中，或者 TTL 已到期（也就是，已达到高速缓存控制的最大时效 0）。
* **HIT：**已从高速缓存交付资产。
* **EXPIRED：**已从高速缓存交付资产，但是下一个请求将需要重新验证。
* **REVALIDATED：**已从高速缓存交付资产。TTL 已到期，但是源的 `If-Modified-Since` 请求指示资产尚未更改。因此，高速缓存中的版本再次被视为有效。

## 最佳实践 2：对于事件驱动的内容，使用 API 来清除高速缓存
例如，每次向博客添加新帖子时，都可以使用 API 命令来轻松清除 CIS 高速缓存。事件驱动的内容很常见，而我们可保证不会项用户呈现旧内容。下面列出了立即清除整个全局网络高速缓存的命令。您可以使用我们的高速缓存应用程序，也可以使用 API。

  * 使用 Cache-Tag 清除高速缓存
  * 全局清除高速缓存
  * 按“页面规则”清除高速缓存
  * 使用高级高速缓存功能

### 通过 Cache-Tag 清除高速缓存
Cache-Tag 允许您定义想要清除的内容存储区。这非常适合组合通常一起发生更改的对象。例如，HTML 博客帖子及其所有图像内容可一起进行标记。也可使用 cache-tag 绑定仅移动内容，从而可在将新更新推送至移动域时清除所有内容。

### 全局清除高速缓存
您还可以选择强制整个高速缓存进行重新验证。您可以重置高速缓存中存储的所有对象，以便将每个请求都路由到源服务器。

### 按“页面规则”清除高速缓存
“页面规则”允许您根据正则表达式来清除整个高速缓存。您可以利用预定义的“页面规则”并重新验证针对此“页面规则”的所有命中。每页最多可创建 50 个“页面规则”。

### 使用高级高速缓存功能

**存在 Cookie 时绕过高速缓存：**在“页面规则”中配置此功能，允许您提供高速缓存的对象（除非存在特定名称的 cookie）。例如，除非找到指示客户已登录的 `SessionID` cookie，并且因此应显示个性化内容，否则可提供高速缓存版本的主页。
