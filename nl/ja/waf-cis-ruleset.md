---

copyright:
  years: 2018, 2019
lastupdated: "2019-03-14"

keywords: CIS Rule Set, WAF settings, WAF CIS Rules

subcollection: cis

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:DomainName: data-hd-keyref="DomainName"}
{:note: .note}
{:important: .important}
{:deprecated: .deprecated}
{:generic: data-hd-programlang="generic"}


# WAF 設定
{:#waf-settings}

以下の表に、Web アプリケーション・ファイアウォール (WAF) が実行できるアクションを示します。 


|アクション| 定義|
|---|---|
|ブロック | 攻撃のブロックは、Web サイトにポストされる前に、すべてのアクションを停止します。|
|シミュレート | 誤検出を検査するために、WAF をチャレンジやブロックを行わずに、攻撃である可能性のある応答を記録する「シミュレート」モードに設定します。|
|チャレンジ | チャレンジ・ページは、Web サイトに留まり続けるため CAPTCHA を送信するか、訪問者に尋ねます。|
|しきい値または感度の設定 | 感度に応じて、トリガーするルールの増減を設定します。|

## WAF 用の CIS ルール・セット
{:#cis-ruleset-for-waf}

**「CIS ルールの表示 (View CIS Rules)」**を選択し、このパッケージのルール・セットを表示します。ルール・セットは、以下のとおりです。
  * Drupal
  * Flash
  * Joomla
  * Magento
  * Miscellaneous
  * PHP
  * Plone
  * Specials
  * WHMCS
  * Wordpress

**「Specials」**には、事実上、インターネット上のアプリケーションや Web サイトすべてに該当するたくさんのルールが含まれます。このルール・セットには、SQLi、XSS、LFI のような一般的な攻撃をターゲットとするルールが含まれており、WAF が提供するセキュリティーの中心となります。「Specials」を常に有効にしておくことを推奨しています。

お客様の技術スタックに対応するルール・セットのみを有効にしてください。例えば、Wordpress を使用して、それ以外のテクノロジーは使用しない場合、「Specials」と「Wordpress」のルール・セットのみを有効にします。お客様の技術スタックに関係のないルール・セットは有効にしないでください。

特定のルール・セットのいずれかを選択すると、含まれる各ルールの詳細が表示されます。

CIS ルール・セットでは、各ルールで以下の 4 つのアクションを行えます。
  1. **無効化**: ルールをオフにします。
  2. **シミュレート**: イベントをログに記録しますが、訪問者をブロックしたり、チャレンジを行ったりはしません (ログを確認した後に、「ブロック」または「チャレンジ」に設定することもできます)。
  3. **ブロック**: 要求全体をブロックします。その要求に関してブロックをバイパスするオプションはありません。
  4. **チャレンジ**: 問題になっている要求へのアクセスが許可される前に、入力が求められるチャレンジ (CAPTCHA) ページを表示します。

ルールの名前に、そのルールがどのように機能するかがはっきりと示されていないこと、またそれらの機能の大まかな概要であることに気付かれたかもしれません。これは、意図的なものです。セキュリティー上の理由で、トラフィックをフィルタリングするために使用するコード (またはその他の正確な情報) は明らかにしていません。そうすることで、悪意のあるユーザーが当社の防御をバイパスするために、リバース・エンジニアリングを行うことを防止しています。
